<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/src/style.css" />
    <title>Vite + TS</title>
  </head>
  <body>
    <div id="app">
      <h2>ABC</h2>
      <hr class="atomic-component" />
      <p>
        This is a test page for the enhanced
        <strong>useSelection</strong> hook. You can interact with this text using various keyboard shortcuts and mouse operations.
      </p>
      <blockquote>
        Try different selection methods: use arrow keys with Shift to extend selection, double-click to select words, triple-click to select
        paragraphs, and drag with the mouse.
      </blockquote>
      <ul>
        <li>First list item with some <em>emphasized text</em></li>
        <li>Second item with <code>inline code</code></li>
        <li>Third item with a <a href="#">link</a> in it</li>
      </ul>
      <p>
        The selection system now uses the enhanced
        <code>CaretPosition</code> class and <code>Selection</code> class internally, providing rich functionality for cursor positioning
        and text selection management.
      </p>
      <div style="border: 2px solid rgb(221, 221, 221); padding: 15px; margin: 20px 0px">
        <h3>Boxed Content</h3>
        <p>This content is inside a bordered container. Test how selection works across different elements.</p>
      </div>
      <p>
        You can use <strong>Ctrl+A</strong> (or <strong>Cmd+A</strong> on Mac) to select all text, and <strong>Escape</strong> to clear the
        selection.
      </p>
      <hr class="atomic-component" />
      <h3>Atomic Components Test</h3>
      <p>
        The following elements are treated as
        <strong>atomic components</strong> - they behave as single units that cannot be entered with the cursor. You can only position the
        cursor before or after them.
      </p>
      <table class="atomic-component" style="border-collapse: collapse; width: 100%; margin: 10px 0px">
        <thead>
          <tr>
            <th style="border: 1px solid rgb(204, 204, 204); padding: 8px; background: rgb(240, 240, 240)">Product</th>
            <th style="border: 1px solid rgb(204, 204, 204); padding: 8px; background: rgb(240, 240, 240)">Price</th>
            <th style="border: 1px solid rgb(204, 204, 204); padding: 8px; background: rgb(240, 240, 240)">Stock</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="border: 1px solid rgb(204, 204, 204); padding: 8px">Laptop</td>
            <td style="border: 1px solid rgb(204, 204, 204); padding: 8px">$1,299</td>
            <td style="border: 1px solid rgb(204, 204, 204); padding: 8px">15</td>
          </tr>
          <tr>
            <td style="border: 1px solid rgb(204, 204, 204); padding: 8px">Mouse</td>
            <td style="border: 1px solid rgb(204, 204, 204); padding: 8px">$29</td>
            <td style="border: 1px solid rgb(204, 204, 204); padding: 8px">50</td>
          </tr>
          <tr>
            <td style="border: 1px solid rgb(204, 204, 204); padding: 8px">Keyboard</td>
            <td style="border: 1px solid rgb(204, 204, 204); padding: 8px">$89</td>
            <td style="padding: 8px">25</td>
          </tr>
        </tbody>
      </table>
      <p>
        Try clicking on the table above. Notice how the cursor can only be positioned at the beginning or end of the table, not inside it.
        Use arrow keys to navigate around it.
      </p>
      <hr class="atomic-component" />
      <p>
        The horizontal rules (HR elements) above and below are also atomic components. Try navigating through them with arrow keys or
        clicking near them.
      </p>
      <div style="display: flex; gap: 20px; margin: 20px 0px">
        <div style="flex: 1 1 0%">
          <h4>Left Column</h4>
          <p>Some text before the table.</p>
          <table class="atomic-component" style="border-collapse: collapse; width: 100%">
            <tbody>
              <tr>
                <td style="border: 1px solid rgb(102, 102, 102); padding: 6px">Cell A</td>
                <td style="border: 1px solid rgb(102, 102, 102); padding: 6px">Cell B</td>
              </tr>
              <tr>
                <td style="border: 1px solid rgb(102, 102, 102); padding: 6px">Cell C</td>
                <td style="border: 1px solid rgb(102, 102, 102); padding: 6px">Cell D</td>
              </tr>
            </tbody>
          </table>
          <p>Some text after the table.</p>
        </div>
        <div style="flex: 1 1 0%">
          <h4>Right Column</h4>
          <p>Testing atomic components in a multi-column layout.</p>
          <hr class="atomic-component" />
          <p>Notice how the cursor navigation works around these atomic elements.</p>
        </div>
      </div>
      <pre style="background: rgb(248, 248, 248); padding: 10px; overflow: auto">
function example() {
  console.log("This is code content");
  const result = performCalculation();
  return result;
}</pre
      >
      <hr class="atomic-component" />
      <h4>Test Instructions for Atomic Components:</h4>
      <ol>
        <li>
          <strong>Click Tests:</strong>
          <ul>
            <li>Click directly on a table - cursor should position at start or end</li>
            <li>Click on the left half of a table - cursor goes to start</li>
            <li>Click on the right half of a table - cursor goes to end</li>
            <li>Click on HR elements - same behavior as tables</li>
          </ul>
        </li>
        <li>
          <strong>Keyboard Navigation:</strong>
          <ul>
            <li>Use arrow keys to navigate into and out of atomic components</li>
            <li>Try Shift + arrow keys to select across atomic components</li>
            <li>Test Home/End keys around atomic components</li>
          </ul>
        </li>
        <li>
          <strong>Selection Tests:</strong>
          <ul>
            <li>Try selecting text that includes atomic components</li>
            <li>Double-click near atomic components</li>
            <li>Use Ctrl+A to select all (including atomic components)</li>
          </ul>
        </li>
      </ol>
      <p>
        Test navigation with <strong>Home</strong>/<strong>End</strong> keys to move to line boundaries, and
        <strong>Ctrl+Home</strong>/<strong>Ctrl+End</strong>
        to move to document boundaries.
      </p>
    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
